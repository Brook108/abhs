import networkx as nx
import matplotlib.pyplot as plt

def convert_to_tree(graph_text):
    # Create an empty directed graph
    tree = nx.DiGraph()

    # Add edges to the graph
    for parent, children in graph_text.items():
        tree.add_edges_from([(parent, child) for child in children])

    # Find the root node of the tree
    roots = [node for node in tree.nodes if tree.in_degree(node) == 0]

    # Select the first root as the main root (assuming there's only one root)
    root = roots[0]

    # Create a depth-first search tree starting from the main root
    dfs_tree = nx.dfs_tree(tree, root)

    return dfs_tree

def draw_tree(tree):
    # Set up the layout
    pos = nx.nx_pydot.graphviz_layout(tree, prog="dot")

    # Draw the tree
    nx.draw(tree, pos, with_labels=True, arrows=True, node_size=500, font_size=10, font_color="black", edge_color="gray")

    # Display the tree
    plt.axis("off")
    plt.show()

graph_text = { 'N_2282': ['N_2418'],
 'N_2418': ['N_2859', 'N_3037', 'N_2762', 'N_3038', 'N_2763', 'N_2788', 'N_458', 'N_3039', 'N_2764', 'N_3043', 'N_2765', 'N_2397', 'N_2766', 'N_3053', 'N_2767', 'N_3055', 'N_2768', 'N_3048', 'N_2769', 'N_3051', 'N_2770', 'N_2789', 'N_459', 'N_456', 'N_3052', 'N_2771', 'N_3056', 'N_2773', 'N_3059', 'N_2783', 'N_3072', 'N_2779', 'N_3064', 'N_2772', 'N_3062', 'N_2786'],
 'N_3038': ['N_1138', 'N_1084', 'N_42', 'N_1130'],
 'N_2788': ['N_1435', 'N_1050', 'N_1446', 'N_214'],
 'N_3039': ['N_3040', 'N_3041'],
 'N_2764': ['N_39', 'N_23', 'N_24', 'N_18', 'N_19', 'N_214', 'N_20', 'N_22', 'N_25'],
 'N_3043': ['N_213'],
 'N_2765': ['N_14', 'N_5'],
 'N_3053': ['N_1435', 'N_369', 'N_1763'],
 'N_2767': ['N_1435', 'N_369', 'N_1763', 'N_8', 'N_1132', 'N_1440', 'N_2542', 'N_1466', 'N_1467'],
 'N_2768': ['N_1132', 'N_2141', 'N_3535'],
 'N_3048': ['N_3050'],
 'N_2769': ['N_55', 'N_16', 'N_17'],
 'N_2770': ['N_1132', 'N_168', 'N_6537'],
 'N_3052': ['N_3065', 'N_3066', 'N_3069'],
 'N_2771': ['N_168', 'N_2774', 'N_2775', 'N_2776', 'N_2777'],
 'N_3056': ['N_3057', 'N_3058'],
 'N_2773': ['N_64'],
 'N_3059': ['N_1594', 'N_1549', 'N_214', 'N_6467', 'N_1158', 'N_1159', 'N_9'],
 'N_2783': ['N_132'],
 'N_3072': ['N_1158'],
 'N_2779': ['N_28', 'N_1124', 'N_1100', 'N_1077', 'N_1469', 'N_1067', 'N_1435'],
 'N_3064': ['N_3060', 'N_3535', 'N_1440', 'N_8', 'N_1132', 'N_1130'],
 'N_2772': ['N_2544', 'N_1132', 'N_2141', 'N_3535'],
 'N_3062': ['N_6467'],
 'N_2786': ['N_6467', 'N_9', 'N_214'],
 'N_42': ['N_8', 'N_1103', 'N_1102'],
 'N_1446': ['N_381'],
 'N_20': ['N_1469', 'N_21', 'N_22'],
 'N_25': ['N_1469', 'N_26'],
 'N_14': ['N_1699', 'N_1181', 'N_13', 'N_214', 'N_213'],
 'N_369': ['N_1064', 'N_1435'],
 'N_1763': ['N_1062'],
 'N_2542': ['N_2527', 'N_2528'],
 'N_2141': ['N_297', 'N_298'],
 'N_3535': ['N_3536'],
 'N_3050': ['N_3061'],
 'N_55': ['N_53', 'N_1727', 'N_56'],
 'N_16': ['N_6467'],
 'N_17': ['N_1443'],
 'N_6537': ['N_6532'],
 'N_3066': ['N_3067', 'N_3068'],
 'N_3069': ['N_1435', 'N_1050', 'N_1771', 'N_1436', 'N_1060', 'N_6467', 'N_163', 'N_3070'],
 'N_2774': ['N_57'],
 'N_2775': ['N_1084', 'N_1083', 'N_168'],
 'N_2776': ['N_1103', 'N_1102', 'N_168', 'N_1443'],
 'N_2777': ['N_168', 'N_1435', 'N_1469', 'N_1050', 'N_1770', 'N_1060'],
 'N_3057': ['N_214', 'N_236'],
 'N_64': ['N_168', 'N_214', 'N_6467', 'N_1445', 'N_236'],
 'N_1158': ['N_381'],
 'N_1159': ['N_381'],
 'N_28': ['N_1054', 'N_1435'],
 'N_1124': ['N_381'],
 'N_1100': ['N_381'],
 'N_1077': ['N_381'],
 'N_1067': ['N_381'],
 'N_3060': ['N_57'],
 'N_2544': ['N_2527', 'N_2528'],
 'N_1181': ['N_6', 'N_261', 'N_262', 'N_1184'],
 'N_1062': ['N_381'],
 'N_3536': ['N_1109', 'N_3725', 'N_1112', 'N_3531', 'N_1106', 'N_3698', 'N_285', 'N_2225', 'N_2228', 'N_2214', 'N_3723', 'N_2209', 'N_2208'],
 'N_3061': ['N_55', 'N_59'],
 'N_56': ['N_1735'],
 'N_6532': ['N_6533', 'N_6534', 'N_6536', 'N_172', 'N_6535'],
 'N_3067': ['N_1084', 'N_1083'],
 'N_3068': ['N_2391', 'N_8', 'N_1084', 'N_1130', 'N_1083'],
 'N_1771': ['N_1055'],
 'N_1436': ['N_1488', 'N_1487', 'N_1179'],
 'N_1060': ['N_381', 'N_1058', 'N_1059'],
 'N_3070': ['N_2391', 'N_1157', 'N_1130', 'N_6467', 'N_8'],
 'N_57': ['N_53', 'N_1727', 'N_1735', 'N_1076'],
 'N_1083': ['N_1148'],
 'N_1770': ['N_1055'],
 'N_1054': ['N_381'],
 'N_1184': ['N_261', 'N_1185'],
 'N_3725': ['N_2182', 'N_3712', 'N_3710', 'N_2183'],
 'N_3531': ['N_2125'],
 'N_3698': ['N_2172', 'N_2173'],
 'N_3723': ['N_2182', 'N_2183'],
 'N_2209': ['N_2210'],
 'N_59': ['N_53', 'N_1727', 'N_1735', 'N_1076'],
 'N_6536': ['N_3211', 'N_3213', 'N_3212'],
 'N_1055': ['N_381'],
 'N_1179': ['N_121'],
 'N_1076': ['N_1080'],
 'N_1185': ['N_262'],
 'N_3712': ['N_3711'],
 'N_3710': ['N_3711'],
 'N_3211': ['N_3214', 'N_172', 'N_210', 'N_168', 'N_209', 'N_3210'],
 'N_3213': ['N_3214'],
 'N_3212': ['N_3210', 'N_168'],
 'N_3210': ['N_3217', 'N_3219'],
 'N_3217': ['N_3224', 'N_3196', 'N_3365', 'N_3687', 'N_3225'],
 'N_3219': ['N_3231', 'N_3218', 'N_3222', 'N_3223', 'N_3235', 'N_3227', 'N_3220'],
 'N_3224': ['N_3221', 'N_3236', 'N_3237'],
 'N_3225': ['N_3361'],
 'N_3231': ['N_1720', 'N_3234', 'N_3233', 'N_3232', 'N_3238', 'N_3239', 'N_3229'],
 'N_3218': ['N_3363'],
 'N_3223': ['N_3231'],
 'N_3227': ['N_3231'],
 'N_3220': ['N_168'],
 'N_3221': ['N_2154'],
 'N_3361': ['N_3344'],
 'N_1720': ['N_2171'],
 'N_3232': ['N_1313', 'N_214'],
 'N_3238': ['N_276', 'N_277', 'N_1431', 'N_214'],
 'N_3229': ['N_2224', 'N_214'],
 'N_3363': ['N_3347'],
 'N_3344': ['N_3205', 'N_3368', 'N_3691'],
 'N_2171': ['N_2169', 'N_2170'],
 'N_2224': ['N_300', 'N_301'],
 'N_3347': ['N_3202', 'N_3207', 'N_3367', 'N_3690', 'N_3348'],
 'N_3205': ['N_3349', 'N_3357', 'N_3356', 'N_3204', 'N_3203'],
 'N_3368': ['N_3349', 'N_3355', 'N_3356', 'N_3357', 'N_3372', 'N_3371'],
 'N_3691': ['N_3692', 'N_3349', 'N_3693', 'N_3356', 'N_3357'],
 'N_3202': ['N_3198'],
 'N_3367': ['N_3370'],
 'N_3348': ['N_168', 'N_2160', 'N_2161'],
 'N_3349': ['N_3350', 'N_3351', 'N_3358', 'N_3352'],
 'N_3372': ['N_3370'],
 'N_3358': ['N_276', 'N_1407', 'N_2151'],
 'N_2151': ['N_2150']}

# Convert graph_text to a tree structure
tree = convert_to_tree(graph_text)

# Draw the tree
draw_tree(tree)

